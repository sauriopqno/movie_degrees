<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Conexi√≥n entre Actores</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; }
        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
            gap: 1.5rem;
        }

        .card {
            background: rgba(255,255,255,0.06);
            padding: 1.5rem;
            border-radius: 16px;
            width: 100%;
            max-width: 900px;
            box-shadow: 0 6px 30px rgba(0,0,0,0.35);
            border: 1px solid rgba(255,255,255,0.03);
        }

        h2 { text-align:center; font-size:1.8rem; margin-bottom:0.5rem; }

        form {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 0.6rem;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        input[type="text"] {
            padding: 0.7rem 1rem;
            border-radius: 10px;
            border: none;
            background: rgba(255,255,255,0.96);
            outline: none;
        }
        button {
            background: linear-gradient(90deg,#66ccff,#3399ff);
            color:white;
            border:none;
            padding:0.7rem 1rem;
            border-radius:10px;
            font-weight:700;
            cursor:pointer;
        }

        /* Lista + linea central + separaci√≥n mayor */
        .resultado { margin-top: 1rem; }
        .list {
            position: relative;
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1.4rem;            /* aumento ligero de separaci√≥n */
            padding: 2rem 2.5rem;
        }

        /* l√≠nea central vertical */
        .list::before {
            content: "";
            position: absolute;
            left: 50%;
            top: 0.6rem;
            transform: translateX(-50%);
            width: 2px;
            height: calc(100% - 1.2rem);
            background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
            border-radius: 2px;
            z-index: 0;
        }

        .item {
            position: relative;
            width: 48%;                /* ancho de la caja (ocupa la mitad aprox) */
            display: flex;
            gap: 1rem;
            align-items: center;
            padding: 0.9rem 1rem;
            border-radius: 12px;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.04);
            box-shadow: 0 8px 24px rgba(0,0,0,0.28);
            z-index: 2;
        }

        /* actores a la izquierda, pel√≠culas a la derecha */
        .item.actor {
            margin-left: 0;           /* se pega al lado izquierdo del √°rea */
            margin-right: auto;
            justify-content: flex-start;
        }
        .item.pelicula {
            margin-left: auto;
            margin-right: 0;
            justify-content: flex-end;
            text-align: right;
        }

        .thumb {
            width: 64px;
            height: 64px;
            border-radius: 10px;
            overflow: hidden;
            background: rgba(255,255,255,0.04);
            display:grid;
            place-items:center;
            flex-shrink: 0;
        }
        .thumb img { width:100%; height:100%; object-fit:cover; display:block; }

        .meta { display:flex; flex-direction:column; gap:0.15rem; min-width:0; max-width: calc(100% - 80px); }
        .title { font-weight:700; color:#eaf6ff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
        .subtitle { font-size:0.92rem; color:#cfeefc; opacity:0.9; }
        .descripcion { font-size:0.86rem; color:#d6d6d6; margin-top:0.25rem; }

        .actor .title span { color:#66ccff; font-weight:800; margin-right:0.35rem; }
        .pelicula .title span { color:#ffcc66; font-weight:800; margin-left:0.35rem; }

        /* Conector horizontal: desde el borde interno de .item hasta la l√≠nea central */
        .item::after {
            content: "";
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            height: 2px;
            background: rgba(255,255,255,0.14);
            width: 28px;               /* longitud del conector horizontal */
            z-index: 1;
        }
        .item.actor::after {
            right: -28px;              /* conecta hacia la l√≠nea central */
        }
        .item.pelicula::after {
            left: -28px;
        }

        /* peque√±as flechas circulares en extremo del conector (opcional est√©tico) */
        .item::before {
            content: "";
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.18);
            z-index: 1;
        }
        .item.actor::before { right: -34px; }
        .item.pelicula::before { left: -34px; }

        /* Ocultar conectores/linea en pantallas peque√±as para simplicidad */
        @media (max-width: 720px) {
            .list { padding: 1rem; gap: 0.9rem; }
            .list::before { display: none; }
            .item {
                width: 100%;
                margin: 0 auto !important;
                justify-content: flex-start;
            }
            .item.pelicula { text-align: left; }
            .item::after, .item::before { display: none; }
        }
    </style>
</head>
<body>
    <div class="card">
        <h2>üé¨ Conecta a dos actores</h2>

        <form method="post" autocomplete="off">
            <input type="text" name="actor1" list="actores" placeholder="Actor 1 ‚Äî Ej. Leonardo DiCaprio" required>
            <input type="text" name="actor2" list="actores" placeholder="Actor 2 ‚Äî Ej. Tom Hanks" required>
            <button type="submit">Conectar</button>

            <datalist id="actores">
                {% for actor in actores_list %}
                    <option value="{{ actor }}">
                {% endfor %}
            </datalist>
        </form>

        {% if camino %}
            <div class="resultado">
                <h3 style="text-align:center; margin-bottom:0.6rem;">Camino encontrado:</h3>
                <ul class="list">
                    {% for nodo in camino %}
                        {% if loop.index0 % 2 == 0 %}
                            <li class="item actor" id="nodo-{{ loop.index0 }}">
                                <div class="thumb" aria-hidden="true">
                                    {% if fotos[loop.index0] %}
                                        <img src="{{ fotos[loop.index0] }}" alt="Foto de {{ nodo }}">
                                    {% else %}
                                        <!-- icono persona -->
                                        <svg width="40" height="40" viewBox="0 0 24 24" fill="#66ccff" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                            <path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 2c-4.418 0-8 1.79-8 4v2h16v-2c0-2.21-3.582-4-8-4z"/>
                                        </svg>
                                    {% endif %}
                                </div>
                                <div class="meta">
                                    <div class="title"><span>üé≠ Actor:</span> {{ nodo }}</div>
                                    <div class="subtitle">Actor</div>
                                </div>
                            </li>
                        {% else %}
                            <li class="item pelicula" id="nodo-{{ loop.index0 }}">
                                <div class="thumb" aria-hidden="true">
                                    {% if fotos[loop.index0] %}
                                        <img src="{{ fotos[loop.index0] }}" alt="Cartel de {{ nodo }}">
                                    {% else %}
                                        <!-- icono pel√≠cula -->
                                        <svg width="40" height="40" viewBox="0 0 24 24" fill="#ffcc66" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                            <path d="M4 3h16v18H4zM8 5h2v2H8V5zM14 5h2v2h-2V5zM6 9h12v6H6V9z"/>
                                        </svg>
                                    {% endif %}
                                </div>
                                <div class="meta">
                                    <div class="title"><span>üé• Pel√≠cula:</span> {{ nodo }}</div>
                                    <div class="subtitle">Pel√≠cula</div>
                                    {% if nodo in descripcion_peliculas and descripcion_peliculas[nodo] %}
                                        <div class="descripcion">{{ descripcion_peliculas[nodo] }}</div>
                                    {% endif %}
                                </div>
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        {% else %}
            {% if request.method == 'POST' %}
                <div style="margin-top:1rem; text-align:center; color:#ffd7d7;">
                    No se encontr√≥ un camino entre los actores indicados.
                </div>
            {% endif %}
        {% endif %}
    </div>
</body>
</html>
